Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var run=function(){var skip=false;if(document.location.pathname&&document.location.pathname.indexOf("/ultra")>-1&&document.location.search&&document.location.search.indexOf("topbar\x3dfalse")>-1)skip=true;else if(document.location.search&&document.location.search.indexOf("ultra_app\x3dtrue")>-1)skip=true;var consentString="CO8TDMZO8TDMZACABBDAAwCgAAAAAAAAAAZQAAQAAAAgAAAA";
var hasConsent=false;if(window.Bootstrapper&&window.Bootstrapper.cookieBotLoaded&&window.Cookiebot&&window.Cookiebot.consent&&window.Cookiebot.consent.preferences){consentString="CO8TE8rO8TE8rACABBDAAwCgAP_AAP_AAAZQDOQAgDOAAtAZyAEAZwAFoAA";hasConsent=true;if(!localStorage.smartUid)localStorage.smartUid=(new Date).getTime().toString()+Math.random().toString().substring(2)}if(!skip)Bootstrapper.ensEvent.add("Load marketing banner",function(){function _instanceof(left,right){if(right!=null&&typeof Symbol!==
"undefined"&&right[Symbol.hasInstance])return!!right[Symbol.hasInstance](left);else return left instanceof right}function _classCallCheck(instance,Constructor){if(!_instanceof(instance,Constructor))throw new TypeError("Cannot call a class as a function");}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,
descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var SmartUtils={VENDOR_PREFIXES:["Webkit","webkit","ms","MS","o","O","moz","Moz"],setStyle:function setStyle(style,props){for(var key in props)if(style[key]!==undefined)style[key]=props[key];else(function(){var base=key.charAt(0).toUpperCase()+key.slice(1);var pfxKey=SmartUtils.find(SmartUtils.VENDOR_PREFIXES.map(function(pfx){return pfx+
base}),function(k){return style[k]!==undefined});if(pfxKey)style[pfxKey]=props[key];else console.warn("Failed setting style property '".concat(key,"'"))})()},find:function find(arr,cb){for(var i=0;i<arr.length;i++)if(cb(arr[i]))return arr[i]},assign:function assign(dst){for(var _len=arguments.length,srcs=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)srcs[_key-1]=arguments[_key];srcs.forEach(function(src){for(var key in src)dst[key]=src[key]});return dst},canAccessIframe:function canAccessIframe(ifr){try{if(ifr.contentWindow.checkingIfFriendly)console.info()}catch(e){return false}return true},
loadScript:function loadScript(src){var script=document.createElement("script");script.type="text/javascript";script.async="async";script.src=src;var firstScript=document.getElementsByTagName("script")[0];firstScript.parentNode.insertBefore(script,firstScript)}};var SmartAd=function(){function SmartAd(formatId,container,manager,settings){_classCallCheck(this,SmartAd);SmartUtils.assign(this,{formatId:formatId,container:container,manager:manager,tagId:"sas_".concat(formatId),settings:settings});container.smartAd=
this}_createClass(SmartAd,[{key:"render",value:function render(){var _this=this;if(this.renderCalled)return;this.renderCalled=true;if(this.hide)return;if(this.settings.noStyling){this.container.setAttribute("id",this.tagId);sas.render(this.formatId);return}this.manager.clearDummyDiv(this.tagId);this.container.innerHTML='\n\t\t\t\x3cdiv style\x3d"position: relative; height: 0px; width: 100%; text-align:left;"\x3e\n\t\t\t\t\x3cdiv id\x3d"'.concat(this.tagId,'" style\x3d"position: absolute; top: 0px; bottom: 0px; left: 0px; right: 0px; overflow: hidden;"\x3e\x3c/div\x3e\n\t\t\t\t\x3c!-- Only purpose is of empty iframe below is to trigger resize event whenever the ad-div is changing size in order to rescale ad --\x3e\n\t\t\t\t\x3ciframe src\x3d\'about:blank\' width\x3d"100%" style\x3d\'width: 100%; height: 0px; border-width: 0px;\'\x3e\x3c/iframe\x3e\t\t\t\t\n\t\t\t\x3c/div\x3e');
this.sasDiv=document.getElementById(this.tagId);this.sasDiv.appendChild=function(child){return _this.onSasDivAppend(child)};sas.render(this.formatId)}},{key:"destory",value:function destory(){delete this.container.smartAd;this.container.innerHTML=""}},{key:"setHide",value:function setHide(hide){var _this2=this;this.hide=hide;if(this.sasDiv)this.sasDiv.parentNode.style.display=hide?"none":"";if(!hide&&!this.renderCalled)sas.cmd.push(function(){return _this2.render()})}},{key:"onSasDivAppend",value:function onSasDivAppend(elm){var _this3=
this;if(elm.tagName==="IFRAME")if(elm.getAttribute("style")==="width: 1px; height: 0px; visibility: hidden;"&&elm.getAttribute("allow")==="autoplay;fullscreen;"){this.sasDiv.setAttribute("style","");this.sasDiv.parentNode.setAttribute("style","")}else{SmartAd.initBannerClass();elm.addEventListener("load",()=>this.onAdIframeLoaded(elm))}return Node.prototype.appendChild.call(this.sasDiv,elm)}},{key:"setupMessageListener",value:function setupMessageListener(ifr){var win=this.isFriendlyIframe?ifr.contentWindow:
window;var MessageListeners={click:function click(_ref){var url=_ref.url,target=_ref.target;return open(url,target)}};if(this.msgListener)win.removeEventListener("message",this.msgListener);this.msgListener=function(_ref2){var data=_ref2.data;var cb=null;if(data!=undefined)cb=MessageListeners[data.type];if(cb)cb(data)};win.addEventListener("message",this.msgListener)}},{key:"onAdIframeLoaded",value:function onAdIframeLoaded(ifr){var _this4=this;if(!this.adIframe){this.initAdIframe(ifr);this.manager.onIframeLoaded(this)}if(this.isFriendlyIframe){SmartUtils.assign(this.adIframe.contentWindow.document.body.style,
{width:"".concat(this.width,"px"),height:"".concat(this.height,"px")});var reRunFn=function reRunFn(){return _this4.onAdIframeLoaded(_this4.adIframe)};this.adIframe.contentWindow.document.open=function(){setTimeout(reRunFn);return HTMLDocument.prototype.open.apply(this,arguments)}}this.setupMessageListener(ifr);this.reScale()}},{key:"initAdIframe",value:function initAdIframe(ifr){var _this5=this;this.adIframe=ifr;this.isFriendlyIframe=false;ifr.style.setProperty("max-width","none","important");this.width=
parseInt(ifr.getAttribute("width"))||ifr.clientWidth;this.height=parseInt(ifr.getAttribute("height"))||ifr.clientHeight;this.sasDiv.parentNode.style.paddingBottom=this.height/this.width*100+"%";if(this.isFriendlyIframe)ifr.style.height="100%";this.sasDiv.nextElementSibling.contentWindow.addEventListener("resize",function(){return _this5.reScale()})}},{key:"reScale",value:function reScale(){var currentWidth=this.sasDiv.parentNode.clientWidth;var scale=currentWidth/this.width;var scaleElm=this.isFriendlyIframe?
this.adIframe.contentWindow.document.documentElement:this.adIframe;SmartUtils.setStyle(scaleElm.style,{transformOrigin:"left top",transform:"scale("+scale+")"});if(this.isFriendlyIframe)this.adIframe.style.width=currentWidth+"px"}}],[{key:"initBannerClass",value:function initBannerClass(){if(SmartAd.bannerInitDone||!window.Banner||!Banner.prototype)return;var ua=navigator.userAgent;if(ua.indexOf("MSIE ")>=0||ua.indexOf("Trident/")>=0||ua.indexOf("Edge/")>=0){var _Banner$prototype=Banner.prototype,
addCreative=_Banner$prototype.addCreative,getIeVersion=_Banner$prototype.getIeVersion;if(addCreative&&getIeVersion){var gotFirstVersionCall;var inAddCreative;Banner.prototype.addCreative=function(){var res;try{inAddCreative=true;res=addCreative.apply(this,arguments);inAddCreative=false}catch(e){inAddCreative=false;throw e;}return res};Banner.prototype.getIeVersion=function(){var blockResult=!gotFirstVersionCall||inAddCreative;gotFirstVersionCall=true;return blockResult?undefined:getIeVersion.apply(this,
arguments)}}}SmartAd.bannerInitDone=true}}]);return SmartAd}();var SmartAdManager=function(){function SmartAdManager(settings){_classCallCheck(this,SmartAdManager);SmartUtils.assign(this,settings);this.byFormat={}}_createClass(SmartAdManager,[{key:"onIframeLoaded",value:function onIframeLoaded(smartAd){if(this.onSmartAdLoaded)this.onSmartAdLoaded(smartAd,this)}},{key:"getDeviceProfiles",value:function getDeviceProfiles(){var profileFns=this.profileFns||{landscape:function landscape(){return innerWidth>=
innerHeight},portrait:function portrait(){return innerWidth<innerHeight}};var profiles=[];for(var name in profileFns)if(profileFns[name]())profiles.push(name);return profiles}},{key:"updateFormatsOnPage",value:function updateFormatsOnPage(){var _this6=this;var currentProfiles=this.getDeviceProfiles();var newAds=[];var containers=document.querySelectorAll("[data-smart-format]");var elmsAndFormats=Array.prototype.slice.call(containers).forEach(function(elm){var formatId=elm.getAttribute("data-smart-format");
var fixedSiteId=elm.getAttribute("data-smart-site");var fixedPageId=elm.getAttribute("data-smart-page");var noStyling=elm.hasAttribute("data-smart-no-styling");if(fixedSiteId&&fixedSiteId!=_this6.siteId||fixedPageId&&fixedPageId!=_this6.pageId)return;var adProfiles=(elm.getAttribute("data-device-profiles")||"").split(",").map(function(s){return s.trim()}).filter(function(s){return s});var show=!adProfiles.length||!SmartUtils.find(currentProfiles,function(p){return adProfiles.indexOf(p)<0});var smartAd=
elm.smartAd;if(smartAd)smartAd.setHide(!show);else if(show){var newAd=new SmartAd(formatId,elm,_this6,{noStyling:noStyling});newAds.push(newAd);_this6.byFormat[formatId]=newAd}});return newAds}},{key:"forceReload",value:function forceReload(){this.unload(true);this.run()}},{key:"clearDummyDiv",value:function clearDummyDiv(tagId){if(window.unusedFormatsDiv){var dummy=document.getElementById(tagId);if(dummy&&dummy.parentNode===unusedFormatsDiv)unusedFormatsDiv.removeChild(dummy)}}},{key:"unload",value:function unload(keepDummDivs){if(keepDummDivs&&
!window.unusedFormatsDiv){var _unusedFormatsDiv=document.createElement("div");_unusedFormatsDiv.id="unusedFormatsDiv";_unusedFormatsDiv.style.display="none";document.body.appendChild(_unusedFormatsDiv)}for(var formatId in this.byFormat){var ad=this.byFormat[formatId];ad.destory();if(keepDummDivs){this.clearDummyDiv(ad.tagId);var dummy=document.createElement("div");dummy.id=ad.tagId;unusedFormatsDiv.appendChild(dummy)}}this.byFormatId={}}},{key:"run",value:function run(){var _this7=this;var networkid=
this.networkid,domain=this.domain,siteId=this.siteId,pageId=this.pageId,runCalled=this.runCalled,options=this.options,target=this.target;if(!runCalled){window.sas=window.sas||{cmd:[]};addEventListener("resize",function(){return _this7.run()});this.runCalled=true}var newAds=this.updateFormatsOnPage();if(!newAds.length)return;var fmtMap={};var formats=newAds.map(function(ad){return{id:ad.formatId.split("_")[0]}}).filter(function(fmt){if(fmtMap[fmt.id])return false;fmtMap[fmt.id]=true;return true});
sas.cmd.push(function(){if(!runCalled){if(consentString)sas.setGdprConsentData(consentString);sas.setup({uid:localStorage.smartUid,networkid:networkid,domain:domain,async:true})}sas.call("onecall",{siteId:siteId,pageId:pageId,formats:formats,target:target||""},options||{});newAds.forEach(function(ad){return ad.render()})})}}]);return SmartAdManager}();function insertPlaceholder(selector,formatId){var ref=document.querySelector(selector);if(ref){var newEl=document.createElement("div");newEl.setAttribute("data-smart-format",
formatId);ref.innerHTML+=newEl.outerHTML}}function inject(obj){var format=document.querySelectorAll(obj.selector+' [data-smart-format\x3d"'+obj.formatId+'"]');if(!(format&&format[0]))insertPlaceholder(obj.selector,obj.formatId);render=true}function categorizedReferrer(){var category="";var parse=function(hostname,cat){if(parser.hostname.indexOf(hostname)!==-1)category=cat};if(document&&document.referrer){var parser=document.createElement("a");parser.href=document.referrer;parse("google","search");
if(category!=="")return category;parse("facebook","some");if(category!=="")return category;parse("twitter","some");if(category!=="")return category;parse("instagram","some");if(category!=="")return category;parse("youtube","some");if(category!=="")return category;parse("dr.dk","dr");if(category!=="")return category}return""}var render=false;var setup=false;var marketingBannerObj=this;var smartAdManager;var urn=null;if(dataLayer&&dataLayer.content&&dataLayer.content.content&&dataLayer.content.content.urn)urn=
dataLayer.content.content.urn;else urn=Bootstrapper.getMetaValue("name","ensighten:urn")||Bootstrapper.getMetaValue("name","urn");if(urn)urn=urn.split(":").reverse()[0];else urn="";target="url\x3d"+location.href+";urn\x3d"+urn+";referrer\x3d"+categorizedReferrer();Bootstrapper.loadScriptCallback("//ced.sascdn.com/tag/3310/smart.js",function(){marketingBannerObj.marketingBannerObj.forEach(function(obj){inject(obj)});if(render){smartAdManager=new SmartAdManager({consentString,networkid:3310,domain:"//www14.smartadserver.com",
siteId:marketingBannerObj.siteId,pageId:marketingBannerObj.pageId,target:target+(marketingBannerObj.target?";"+marketingBannerObj.target:"")+";nocookie\x3d"+(hasConsent?0:1)+";",options:{onNoad:function(obj){var dst=document.querySelector("[data-smart-format\x3d'"+obj.formatId+"']");if(dst)dst.style.display="none"}}});if(hasConsent)smartAdManager.uid=localStorage.smartUid;smartAdManager.run()}});function update(){marketingBannerObj.marketingBannerObj.forEach(function(obj){inject(obj)});if(render){if(!smartAdManager){smartAdManager=
new SmartAdManager({consentString,networkid:3310,domain:"//www14.smartadserver.com",siteId:marketingBannerObj.siteId,pageId:marketingBannerObj.pageId,target:target+(marketingBannerObj.target?";"+marketingBannerObj.target:"")+"nocookie\x3d"+(hasConsent?0:1)+";",options:{onNoad:function(obj){var dst=document.querySelector("[data-smart-format\x3d'"+obj.formatId+"']");if(dst)dst.style.display="none"}}});if(hasConsent)smartAdManager.uid=localStorage.smartUid;smartAdManager.run()}smartAdManager.forceReload()}}
Bootstrapper.ensEvent.add("Page Name Updated",function(){update()});Bootstrapper.ensEvent.add("Reload marketing banner",function(){update()})})};var initialized=false;if(window.Cookiebot&&window.Cookiebot.hasResponse){initialized=true;run()}Bootstrapper.ensEvent.add("Cookiebot submit",function(){if(!initialized)run();Bootstrapper.ensEvent.trigger("Cookiebot submitted")})},3655167,588177);